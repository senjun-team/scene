
{% load static %}
<!DOCTYPE html>
<html lang="ru-RU">
    <head>        
        <meta name="robots" content="all" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta property="og:site_name" content="Senior Junior">

        <meta name="description" content="{{ lang_title }} online IDE. Редактируйте и запускайте код онлайн! Это бесплатный playground для экспериментов с кодом.">
        <meta name="keywords" content="{{ lang_title }} online, {{ lang_title }} playground, {{ lang_title }} онлайн">

        <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
        <link rel="stylesheet" href="{% static 'courses/v51/styles/font-awesome/4.7.0/font-awesome.min.css' %}">

        <meta property="og:image" content="{% static 'courses/v51/images/logo.png' %}" />
        <meta property="og:locale" content="ru_RU">
	    <meta property="og:type" content="website"/>
        <script src="{% static 'courses/v51/scripts/header_handler.js' %}"></script>
        
        <link rel="stylesheet" href="{% static 'courses/v51/playground.css' %}">
        <script src="{% static 'courses/v51/scripts/ansi_up.js' %}" type="text/javascript"></script>
        <script defer src="{% static 'courses/v51/scripts/code_mirror_bundle.js' %}"></script>
        
        <script defer src="{% static 'courses/v51/scripts/playground_handler.js' %}"></script>


        <title>{% block title %}{{ lang_title }} playground. Online {{ lang_title }} IDE.{% endblock %}</title>
        <meta charset="utf-8">

        <base target="_blank">

        <script type="application/ld+json">
            {
             "@context": "https://schema.org",
             "@type": "BreadcrumbList",
             "itemListElement":
             [
              {
               "@type": "ListItem",
               "position": 1,
               "item":
               {
                "@id": "https://senjun.ru/playground/",
                "name": "Playground"
                }
              },
              {
               "@type": "ListItem",
              "position": 2,
              "item":
               {
                 "@id": "https://senjun.ru/playground/{{ lang_id }}/",
                 "name": "{{ lang_title }}"
               }
              }
             ]
            }
        </script>

        <script>
            (() => {
                function switch_to_dark() {
                    document.documentElement.setAttribute('data-theme', "dark");
                }

                const theme_str = localStorage.getItem("theme");
                if (theme_str && theme_str == "dark") {
                    switch_to_dark();
                    return;
                }

                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) { // Try to get browser theme
                    switch_to_dark();
                    return;
                }
            })();
        </script>
    </head>
    <body playground_lang_id="{{ lang_id }}" playground_id="{{ playground_id }}">
        <div class="menu menu_container">
            <a href="/" title="Senior Junior" target="_self">
            <object  type="image/svg+xml" data="{% static 'courses/v51/images/logo.svg' %}" class="header-img svg-item margin-left-xsmall object-link" width="30" height="30"> </object>
            </a>
            <a href="/" title="Senior Junior" target="_self" class="margin-left-xsmall desktop">SenJun</a>
            <span class="menu-slash desktop">/</span>
            <a href="/playground" title="Playgrounds" target="_self">Playground</a>
            <span class="menu-slash">/</span>
            <object type="image/svg+xml" data="{% static "courses/v51/images/" %}{{ lang_id }}.svg" class="svg-item course-img desktop" width="30" height="30"></object>
            <span class="margin-left-xsmall menu-text">{{ lang_title }}</span>

            <form id="runCodeForm" enctype="multipart/form-data" method="POST" action="/run_code/">
                <button class="btn margin-left-m" id="btn_run" formtarget="_self" type="submit" name="submitter" title="F9">
                    <i class="fa fa-solid fa-rocket"></i> <span class="desktop">Запуск</span>
                </button>
            </form>

            <button class="btn margin-left-small square" formtarget="_self" onclick="download_project()" title="Скачать проект">
                <i class="fa fa-solid fa-download"></i>
            </button>

            <button class="btn margin-left-small square" formtarget="_self" onclick="switch_theme_click()" title="Смена темы сайта">
                <i class="fa fa-solid fa-moon-o theme-switch-symbol" id="theme_switch_btn"></i>
            </button>

            {% if user.is_authenticated %}
            
            <div class="dropdown">
                <div class="user-first-letter dropbtn noselect">
                    {{ user.username|title|first }}
                </div>

                <div class="dropdown-content">
                    <a href="/user" target="_self">Личный кабинет</a>
                    <a href="/progress" target="_self">Прогресс</a>
                    <a href="{% url 'account_logout' %}?next={{ request.path | urlencode }}" target="_self">Выход</a>
                </div>
            </div>
        
            {% else %}
            <button class="btn margin-left-small square" formtarget="_self" onclick="handler_login()" title="Войти" id="login-register">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon" aria-hidden="true" focusable="false"><path fill="currentColor" d="M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/></svg>
            </button>
            {% endif %}
        </div>
        <div class="project_parent">
            <div id="project_tree">
                <span class="closebtn-tree hidden" onclick="toggle_left_menu()" id="open_left_menu"><i class="fa fa-solid fa-folder-open"></i></span>
                <ul id="tree_ul"></ul>
            </div>
            <div id="project_files">
                <div id="online_ide_container" class="flex-cont">
                    <textarea id="online_ide" class="hidden"> </textarea>
                </div>
                <div class="">
                    <pre id="output_container">
                    </pre>
                </div>
            </div>
        </div>
        <span id="project_contents_raw" class="hidden"> {{ project_contents_raw }} </span>
    </body>

    <div class="modal" id="modal_overlay"></div>
</html>